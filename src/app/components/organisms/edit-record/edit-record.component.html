<app-spinner *ngIf="stillLoading; else editRecordTemplate"></app-spinner>

<ng-template #editRecordTemplate>

    <app-toasts aria-live="polite" aria-atomic="true"
        [toasts]="toasts" (hideOutputEventEmitter)="hideMessage($event)" *ngIf="success">
    </app-toasts>

    <div class="row">
        <div class="col-sm-12 col-md-6 mb-3 scrollbar" overflow-y>
            <div id="editor"></div>
        </div>
        <div class="col-sm-12 col-md-6 mb-3 scrollbar" overflow-y>
            <div id="editor-preview"></div>
        </div>
    </div>

    <div class="row">
        <div class="col-sm-12 col-md-6">
            <button class="btn btn-outline-primary" [disabled]="submitted" (click)="saveRecord()">
                <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true" *ngIf="submitted"></span>
                {{ 'save.title' | translate }}
            </button>
        </div>
        <div class="col-sm-12 col-md-6">
            <button class="btn btn-outline-secondary" (click)="previewRecord()">
                <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true" *ngIf="submitted"></span>
                {{ 'preview.title' | translate }}
            </button>
        </div>
    </div>

</ng-template>